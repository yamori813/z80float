;
; FLOATE PACKAGE TEST PROGRAM
;

BDOS	EQU	0005H
CR	EQU	0DH
LF	EQU	0AH

	ORG	100H

	LD	HL,TVAL1
	LD	DE,TVAL2
	CALL	TADD
	LD	HL,TVAL3
	LD	DE,TVAL4
	CALL	TADD
	LD	HL,TVAL5
	LD	DE,TVAL6
	CALL	TADD
	LD	HL,TVAL7
	LD	DE,TVAL8
	CALL	TADD
	LD	HL,TVAL9
	LD	DE,TVAL10
	CALL	TADD
	RET

TADD:
	PUSH	DE
	LD	DE,VAL1
	CALL	JTOD

	POP	HL
	LD	DE,VAL2
	CALL	JTOD

	LD	HL,VAL1
	LD	DE,VAL2
	CALL	DADD

	LD	HL,VAL2
	LD	DE,RES
	CALL	DTOJ

; DISPLAY RESULT
	LD	C,09H
	LD	DE,RES
	CALL	BDOS

	RET

TVAL1:	DEFB	'1.1111111D2 '
TVAL2:	DEFB	'2.2222222D2 '

TVAL3:	DEFB	'1.0D+0 '
TVAL4:	DEFB	'1.0D+2 '

TVAL5:	DEFB	'1.1D+1 '
TVAL6:	DEFB	'-2.2D+2 '

TVAL7:	DEFB	'1.1D-1 '
TVAL8:	DEFB	'2.2D-2 '

TVAL9:	DEFB	'1.1D-1 '
TVAL10:	DEFB	'2.2D+2 '

VAL1:	DEFS	8
VAL2:	DEFS	8
RES:	DEFS	32
	DEFB	CR,LF,'$'

	ORG	300H

include "ASUB1.TXT"
include "ASUB2.TXT"
include "ROUND.TXT"

include "JTOD.TXT"
include "DTOJ.TXT"

include "DFLT.TXT"
